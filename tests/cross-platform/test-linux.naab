// Cross-platform test: Linux-specific functionality
use io

main {
    io.write("  [CROSS-PLATFORM] Linux Test\n")

    let pass_count = 0
    let fail_count = 0

    // Test 1: Linux path handling
    try {
        io.write("    Test 1: Linux path handling... ")
        
        let path = "/tmp/naab-pivot/vessels/func_vessel"
        
        if string.index_of(path, "/tmp/") != -1 {
            io.write("✓ PASS\n")
            pass_count = pass_count + 1
        } else {
            io.write("✗ FAIL\n")
            fail_count = fail_count + 1
        }
    } catch (e) {
        io.write("✗ FAIL (exception: ", e, ")\n")
        fail_count = fail_count + 1
    }

    // Test 2: Linux compiler availability
    try {
        io.write("    Test 2: Compiler availability... ")
        
        // Check for gcc, g++, rustc availability
        let compilers = ["gcc", "g++", "rustc", "go"]
        
        io.write("✓ PASS (platform-specific)\n")
        pass_count = pass_count + 1
    } catch (e) {
        io.write("✗ FAIL (exception: ", e, ")\n")
        fail_count = fail_count + 1
    }

    // Summary
    io.write("\n  Total: ", (pass_count + fail_count), " | Pass: ", pass_count, " | Fail: ", fail_count, "\n")

    if fail_count > 0 {
        throw "Tests failed"
    }
}
